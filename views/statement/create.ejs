<!DOCTYPE html>
<html lang="en">
<%- include("../header"); %>
<body>
  <%- include("../menu"); %>
  <%- include("../footer"); %>
<form id="createForm">

  <!-- Material input -->
  <label for="assortment">Input assortment</label>
    <div class="custom-control custom-radio">
      <input type="radio" class="custom-control-input" id="assort0" name="assortment" value=false>
     <label class="custom-control-label" for="assort0">지출</label>
    </div>

   <div class="custom-control custom-radio">
     <input type="radio" class="custom-control-input" id="assort1" name="assortment" value=true checked>
     <label class="custom-control-label" for="assort1">수입</label>
   </div>
  <!--
  <label>
    <select name="ass">
      <option value="false">지출</option>
      <option value="true">수입</option>
    </select>
  </label>
  -->

  <div class="md-form">
  <input type="text" id="amount" class="form-control" required />
  <label for="amount">Input amount</label>
</div>

<div class="md-form">
  <input type="text" id="description" class="form-control" required />
  <label for="description">Input description</label>
</div>

<div class="md-form">
  <input type="text" id="target" class="form-control" required />
  <label for="target">Input target</label>
</div>

<div class="md-form">
  <input type="text" id="category" class="form-control" required />
  <label for="category">Input category</label>
</div>

<button type="submit" class="btn btn-cyan btn-md"
          
          >Save</button>
</form>
<script>
  $(function () {
    $("#createForm").submit((event) => {
      event.preventDefault();
      // Submit
      const assortment = $('input[name = "assortment"]:checked').val();
      const amount = $("#amount").val();
      const description = $("#description").val();
      const target = $("#target").val();
      const category = $("#category").val();
      console.log(assortment, amount, description, target, category);
      // alert(Okay);

      $.ajax({
        url: "/api/statement",
        type: "POST",
        data: { assortment, amount, description, target, category }
      }).done(() => {
        location.href = "/api/statement";
      }).fail((request, status, error) => {
        alert(request.responseText);
      })
    });
  });
</script>
</body>
</html>